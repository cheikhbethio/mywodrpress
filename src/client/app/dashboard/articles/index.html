<h2 class="page-header">Gestion des articles</h2>

<alert type="success" ng-if="success" close="closeAlert()"><span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span> Votre article a bien été ajouté.</alert>
<alert type="success" ng-if="editSuccess" close="closeAlert()"><span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span> Votre article a bien été modifié.</alert>

<a class="btn btn-primary" ui-sref="dashboard.createArticle"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Ajouter un article</a>
<br/>
<br/>

<table class="table table-hover">
	<thead>
		<tr>
			<th><span class="glyphicon glyphicon-tower" aria-hidden="true"></span> Titre</th>
			<th><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Auteur</th>
			<th><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>Date de rédaction</th>
			<th><span class="glyphicon glyphicon-tags" aria-hidden="true"></span> Mots clés</th>
			<th><span class="glyphicon glyphicon-globe" aria-hidden="true"></span> Publié</th>
			<th style="width:187px"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Actions</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="article in articles">
			<td><a ui-sref="dashboard.showArticle({id : article._id})">{{article.title}}</a></td>
			<td>{{article.author.firstname}} {{article.author.lastname}}</td>
			<td>{{article.date | date:'dd/MM/yyyy'}}</td>
			<td class="row"><div class="label label-info" ng-repeat="keyword in article.keywords" style="margin-right: 5px;">{{keyword}}</div> </td>
			<td>
				<span ng-hide="{{article.ispublic}}" class="glyphicon glyphicon-remove" style="color:red" aria-hidden="true"></span>
				<span ng-show="{{article.ispublic}}" class="glyphicon glyphicon-ok" style="color:green" aria-hidden="true"></span>
			</td>
			<td>
				<a ui-sref="dashboard.editArticle({id : article._id})" class="btn btn-info btn-sm"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Modifier</a>
				<button class="btn btn-danger btn-sm" ng-click="deleteArticle(article._id)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Supprimer</button>
			</td>
		</tr>
	</tbody>
</table>
