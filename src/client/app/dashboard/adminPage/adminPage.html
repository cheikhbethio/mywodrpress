<h2 class="page-header"> Gestion des Pages</h2>

<toast></toast>

<table class="table table-hover">
	<thead>
		<tr>
			<th>Titre</th>
			<th>ID</th>
			<th style="width:300px"><span class="pull-right"> Modifications</span></th>
		</tr>
	</thead>
	<tbody>

		<tr>
			<td><b>Accueil</b></td>
			<td><b>Accueil <span ng-if="user.getRight() == 3">(vous n'avez pas le droit de supprimer cette page)</span></b></td>
			<td>

				<button class="btn btn-danger pull-right" ng-disabled="true" class="pull-right" ng-if="user.getRight() == 3"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>

				<a ui-sref="dashboard.editHome" class="btn btn-info pull-right" style="margin-right: 5px;"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Ajouter des articles</a>


			</td>
		</tr>

		<tr ng-repeat="page in pages">
			
			<td>
				{{page.title}}
			</td>
			<td><a target="_blank" ui-sref="site.pages({id: page._id})">{{page._id}}</a></td>
			<td>

				<button class="btn btn-danger pull-right" ng-click="deletepage(page._id)" ng-if="user.getRight() == 3"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>

				<a ui-sref="dashboard.editPage({id : page._id})" class="btn btn-info pull-right" style="margin-right: 5px;"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span><span ng-if="user.getRight() == 3"> Modifier / </span> Ajouter des articles</a>
			</td>
		</tr>

		<tr ng-repeat-end ng-if="user.getRight() == 3">
			<td>
              <input type="text" placeholder="Titre de la page" class="form-control" ng-model="newPage.title"></input>
            </td>

			<td> --- </td>
			<td>
				<button class="btn btn-success pull-right" ng-click="addPage()"><span class="glyphicon glyphicon-check" aria-hidden="true"></span> Ajouter</button>
			</td>
		</tr>

	<tbody>
</table>
